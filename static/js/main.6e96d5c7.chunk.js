(this.webpackJsonpniconico=this.webpackJsonpniconico||[]).push([[0],{37:function(e,n,t){e.exports=t(65)},42:function(e,n,t){},65:function(e,n,t){"use strict";t.r(n);var a=t(1),o=t.n(a),i=t(25),r=t.n(i),c=(t(42),t(14)),s=t.n(c),l=t(26),u=t(27),d=t(28),m=t(34),h=t(35),p=t(81),v=t(79),g=t(80),f=t(29),k=t.n(f),_=function(e){Object(h.a)(t,e);var n=Object(m.a)(t);function t(e){var a;return Object(u.a)(this,t),(a=n.call(this,e)).handler=document.createElement("iframe"),a.music_index=0,a.post_msg=function(e){if(console.log("post_msg"),null!==e.contentWindow){console.log("post_msg2");var n=e.contentWindow.postMessage({sourceConnectorType:1,eventName:"play"},"https://embed.nicovideo.jp");console.log(n)}},a.state={url:"",id:"niconico",rank_url:[],rank_title:[]},a.bind(),a.get_ranking(),a}return Object(d.a)(t,[{key:"wait",value:function(){return new Promise((function(e){setTimeout((function(){console.log("wait")}),2e3)}))}},{key:"get_ranking",value:function(){var e=Object(l.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("https://niconico-vocaloid-ranking.herokuapp.com/ranking_api/?ranking");case 2:n=e.sent,this.setState({rank_url:n.data.url,rank_title:n.data.title,url:n.data.url[0]});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"bind",value:function(){var e=this;window.addEventListener("message",(function(n){"playerStatusChange"==n.data.eventName&&(console.log("WORLF"),4==n.data.data.playerStatus&&(console.log("HELLO"),e.music_index++,e.ch_music(),setTimeout((function(){null!==e.handler&&(console.log("\u547c\u3070\u308c\u305f\u6c17\u304c\u3057\u305f"),e.post_msg(e.handler))}),2e3)))}))}},{key:"ch_music",value:function(){var e=this;this.setState((function(n){return{url:e.state.rank_url[e.music_index]}}))}},{key:"renderPlayer",value:function(){null!=this.handler.contentWindow&&(this.handler.contentWindow.postMessage({sourceConnectorType:1,eventName:"play"},"https://embed.nicovideo.jp"),console.log("pause"),console.log(this.handler))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement(p.a,{position:"static"},o.a.createElement(v.a,null,o.a.createElement(g.a,{variant:"h6"},"\u30dc\u30ab\u30ed\u30e9\u30f3\u30ad\u30f3\u30b0\u3092\u9023\u7d9a\u518d\u751f\u3057\u3066\u307f\u305f\uff01")))),o.a.createElement("iframe",{src:this.state.url,id:"nicoplayer",ref:function(n){e.handler=n}},"hello"),o.a.createElement(g.a,null,o.a.createElement("div",null,this.music_index+1,"\u4f4d\u306e\u697d\u66f2"),o.a.createElement("div",null,this.state.rank_title[this.music_index])))}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.6e96d5c7.chunk.js.map